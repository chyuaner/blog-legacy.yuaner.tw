<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>架站 &#8211; 元兒～ 技術筆記（舊站）</title>
	<atom:link href="//blog-legacy.yuaner.tw/tag/hosting-websites/feed/" rel="self" type="application/rss+xml" />
	<link>//blog-legacy.yuaner.tw/</link>
	<description>本站不再維護更新，新內容請移駕去新站</description>
	<lastBuildDate>Wed, 18 Jun 2025 17:49:58 +0000</lastBuildDate>
	<language>zh-TW</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.8.1</generator>

<image>
	<url>//blog-legacy.yuaner.tw/wp-content/uploads/2022/09/pc-programming-icon-150x150.png</url>
	<title>架站 &#8211; 元兒～ 技術筆記（舊站）</title>
	<link>//blog-legacy.yuaner.tw/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>處理WordPress經過Cloudflare的https對應</title>
		<link>//blog-legacy.yuaner.tw/tech/cloudflare-worepress-https/</link>
					<comments>//blog-legacy.yuaner.tw/tech/cloudflare-worepress-https/#respond</comments>
		
		<dc:creator><![CDATA[元兒～]]></dc:creator>
		<pubDate>Wed, 18 Jun 2025 16:45:31 +0000</pubDate>
				<category><![CDATA[Wordpress]]></category>
		<category><![CDATA[資訊技術]]></category>
		<category><![CDATA[cloudflare]]></category>
		<category><![CDATA[wordpress]]></category>
		<category><![CDATA[架站]]></category>
		<category><![CDATA[玩Linux的日記]]></category>
		<guid isPermaLink="false">//blog-legacy.yuaner.tw/?p=886</guid>

					<description><![CDATA[這應該是倒數第二篇了吧，想不到為了裝靜態化要用的Plugin，結果被逼要先升級系統，然後在升級系統的過程中又遇到對外線路有問題，在處理的時候就乾脆來寫經驗心得文做個紀錄。 我這邊的主機線路是：對外網 &#8212; Cloudflare &#8212; Reverse Proxy &#8212; WordPress Cloudflare設定的地方在 Dashboard→「SSL/TLS」→「概觀」&#8230;]]></description>
										<content:encoded><![CDATA[
<p>這應該是倒數第二篇了吧，想不到為了裝靜態化要用的Plugin，結果被逼要先升級系統，然後在升級系統的過程中又遇到對外線路有問題，在處理的時候就乾脆來寫經驗心得文做個紀錄。</p>



<p>我這邊的主機線路是：<br>對外網 &#8212; Cloudflare &#8212; Reverse Proxy &#8212; WordPress</p>



<p></p>



<h2 class="wp-block-heading">Cloudflare設定的地方在</h2>



<p>Dashboard→「SSL/TLS」→「概觀」→「自訂SSL/TLS」那邊</p>



<figure class="wp-block-image size-large"><img fetchpriority="high" decoding="async" width="712" height="1024" src="//blog-legacy.yuaner.tw/wp-content/uploads/2025/06/Screenshot-2025-06-19-at-00-40-48-Cloudflare-Dashboard-Manage-Your-Account-712x1024.png" alt="" class="wp-image-889" srcset="//blog-legacy.yuaner.tw/wp-content/uploads/2025/06/Screenshot-2025-06-19-at-00-40-48-Cloudflare-Dashboard-Manage-Your-Account-712x1024.png 712w, //blog-legacy.yuaner.tw/wp-content/uploads/2025/06/Screenshot-2025-06-19-at-00-40-48-Cloudflare-Dashboard-Manage-Your-Account-209x300.png 209w, //blog-legacy.yuaner.tw/wp-content/uploads/2025/06/Screenshot-2025-06-19-at-00-40-48-Cloudflare-Dashboard-Manage-Your-Account-768x1104.png 768w, //blog-legacy.yuaner.tw/wp-content/uploads/2025/06/Screenshot-2025-06-19-at-00-40-48-Cloudflare-Dashboard-Manage-Your-Account-1068x1536.png 1068w, //blog-legacy.yuaner.tw/wp-content/uploads/2025/06/Screenshot-2025-06-19-at-00-40-48-Cloudflare-Dashboard-Manage-Your-Account.png 1334w" sizes="(max-width: 712px) 100vw, 712px" /></figure>



<h2 class="wp-block-heading">一個解法：Cloudflare走flexable模式</h2>



<p>好處：簡單方便 缺點：是強制主機送https超連結，主機自身自己不知道有https，容易造成線路混亂。</p>



<p>我的網路線路就是：</p>


<figure class="wp-block-table">
<table class="has-fixed-layout">
<tbody>
<tr>
<td class="has-text-align-center" colspan="2" data-align="center">對外網</td>
<td class="has-text-align-center" colspan="2" data-align="center">Cloudflare</td>
<td class="has-text-align-center" colspan="2" data-align="center">Reverse Proxy</td>
<td class="has-text-align-center" colspan="2" data-align="center">WordPress</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center"> </td>
<td class="has-text-align-center has-light-green-cyan-background-color has-background" colspan="2" data-align="center">http 443</td>
<td class="has-text-align-center has-luminous-vivid-amber-background-color has-background" colspan="4" data-align="center">http 80</td>
<td> </td>
</tr>
</tbody>
</table>
</figure>


<p>WordPress主機視角: 全程都是http，不知道自己是https</p>



<p>從Cloudflare到Worepress這段走80純http，但是對外到Cloudflare這邊走https。<br>因為Wordpress自己不知道是走https，所以由Wordpress輸出的所有連結都會是http，必須手動改設定強制都送https超連結。</p>



<p>改wp-config.php 強制開 HTTPS：</p>



<pre class="wp-block-code"><code>$_SERVER&#091;&#039;HTTPS&#039;] = &#039;on&#039;;</code></pre>



<h2 class="wp-block-heading">另一個解法：Cloudflare走full模式（我最後採用的方案 ）</h2>



<p>缺點：設定麻煩一些 好處：可以讓目標主機知道</p>



<p>我的網路線路就是：</p>


<figure class="wp-block-table">
<table class="has-fixed-layout">
<tbody>
<tr>
<td class="has-text-align-center" colspan="2" data-align="center">對外網</td>
<td class="has-text-align-center" colspan="2" data-align="center">Cloudflare</td>
<td class="has-text-align-center" colspan="2" data-align="center">Reverse Proxy</td>
<td class="has-text-align-center" colspan="2" data-align="center">WordPress</td>
</tr>
<tr>
<td class="has-text-align-center" data-align="center"> </td>
<td class="has-text-align-center has-light-green-cyan-background-color has-background" style="text-align: center;" colspan="4" data-align="center">http 443</td>
<td class="has-text-align-center has-luminous-vivid-amber-background-color has-background" colspan="2" data-align="center">http 80</td>
<td class="has-text-align-center" data-align="center"> </td>
</tr>
</tbody>
</table>
</figure>


<p>WordPress主機視角: 雖然傳輸是http，但可以從封包header知道現在是https</p>



<p>然後Reverse Proxy這層要加入以下內容，讓可以識別是不是https的header能正確傳給Wordpress那邊：</p>



<pre class="wp-block-code"><code>proxy_set_header X-Forwarded-Proto $scheme;
proxy_set_header X-Forwarded-For $remote_addr;
proxy_set_header Host $host;</code></pre>



<p>wp-config.php</p>



<pre class="wp-block-code"><code>if (isset($_SERVER&#091;&#039;HTTP_X_FORWARDED_PROTO&#039;]) &amp;&amp; $_SERVER&#091;&#039;HTTP_X_FORWARDED_PROTO&#039;] === &#039;https&#039;) {
    $_SERVER&#091;&#039;HTTPS&#039;] = &#039;on&#039;;
}</code></pre>



<p>本來想說這篇寫在新站，不過想想是和Wordpress有關，所以還是先當作這裡Wordpress舊站的倒數兩篇吧～</p>



<p></p>
]]></content:encoded>
					
					<wfw:commentRss>//blog-legacy.yuaner.tw/tech/cloudflare-worepress-https/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>在Linux Ubuntu上架MySQL資料庫</title>
		<link>//blog-legacy.yuaner.tw/old/%e5%9c%a8linux-ubuntu%e4%b8%8a%e6%9e%b6mysql%e8%b3%87%e6%96%99%e5%ba%ab/</link>
					<comments>//blog-legacy.yuaner.tw/old/%e5%9c%a8linux-ubuntu%e4%b8%8a%e6%9e%b6mysql%e8%b3%87%e6%96%99%e5%ba%ab/#respond</comments>
		
		<dc:creator><![CDATA[元兒～]]></dc:creator>
		<pubDate>Tue, 07 Aug 2012 17:27:00 +0000</pubDate>
				<category><![CDATA[未整理舊文]]></category>
		<category><![CDATA[MySQL]]></category>
		<category><![CDATA[架站]]></category>
		<category><![CDATA[玩Linux的日記]]></category>
		<guid isPermaLink="false">http://blog.yuan817.twbbs.org/2012/08/%e5%9c%a8linux-ubuntu%e4%b8%8a%e6%9e%b6mysql%e8%b3%87%e6%96%99%e5%ba%ab/</guid>

					<description><![CDATA[我是在自己電腦上Linux Ubuntu 12.04架資料庫的 主要是從套件庫裝了mysql-server、phpmyadmin、apache2.2-bin套件（其餘相依性的套件會自動安裝）重開機以後打開瀏覽器，網址那邊輸入&#8221;http://localhost&#8220;，如果有出現&#8221;It works!&#8221;字樣的話就表示網頁伺服器有架成功。如果要進入網頁版MySQ&#8230;]]></description>
										<content:encoded><![CDATA[<p><span><span align="right"><span>我是在自己電腦上Linux Ubuntu 12.04架資料庫的</p>
<p>主要是從套件庫裝了<span>mysql-server</span>、<span>phpmyadmin</span>、<span>apache2.2-bin</span>套件（其餘相依性的套件會自動安裝）<br />重開機以後打開瀏覽器，網址那邊輸入&#8221;<span>http://localhost</span>&#8220;，如果有出現&#8221;It works!&#8221;字樣的話就表示網頁伺服器有架成功。<br />如果要進入網頁版MySQL管理介面的話，可以在網址那邊輸入&#8221;<span>http://localhost/phpmyadmin</span>&#8220;</span></span></span></p>
<div><a href="http://1.bp.blogspot.com/-tk2prR8hwSU/UCFPJlZAkWI/AAAAAAAACdc/-8eczQk1mlE/s1600/phpmyadmin+2012-08-08+01:22:53.png" imageanchor="1"><img decoding="async" border="0" height="358" src="http://1.bp.blogspot.com/-tk2prR8hwSU/UCFPJlZAkWI/AAAAAAAACdc/-8eczQk1mlE/s640/phpmyadmin+2012-08-08+01:22:53.png" width="640"></a></div>
<p><span><span align="right"><span><br /></span></span></span><br /><span><span align="right"><span></span></span></span><br /><span><span align="right"><span></span></span></span><br /><span><span align="right"><span><br />至於如果想要安裝MySQL管理的圖形視窗介面的話，最簡單（又偷懶）的裝法就是直接去&#8221;Ubuntu 軟體中心&#8221;用&#8221;mysql&#8221;關鍵字去搜尋，就能找到了</span></span></span></p>
<div><a href="http://4.bp.blogspot.com/-nmOZjyf3w9M/UCFMiObb_AI/AAAAAAAACdQ/fGrXqeiekko/s1600/Ubuntu+%E8%BB%9F%E9%AB%94%E4%B8%AD%E5%BF%83+%E6%90%9C%E5%B0%8Bmysql.png" imageanchor="1"><img decoding="async" border="0" height="430" src="http://4.bp.blogspot.com/-nmOZjyf3w9M/UCFMiObb_AI/AAAAAAAACdQ/fGrXqeiekko/s640/Ubuntu+%E8%BB%9F%E9%AB%94%E4%B8%AD%E5%BF%83+%E6%90%9C%E5%B0%8Bmysql.png" width="640"></a></div>
<p><span><span align="right"><span><br />或是直接安裝<span>mysql-admin</span>、<span>mysql-query-browser</span>這兩個套件</span></span></span></p>
<div><a href="http://4.bp.blogspot.com/-EDpaapxUhAw/UCFMCn75ceI/AAAAAAAACdA/F9Lp24HttFA/s1600/MySQL+Query+Browser.png" imageanchor="1"><img loading="lazy" decoding="async" border="0" height="504" src="http://4.bp.blogspot.com/-EDpaapxUhAw/UCFMCn75ceI/AAAAAAAACdA/F9Lp24HttFA/s640/MySQL+Query+Browser.png" width="640"></a></div>
<div><a href="http://2.bp.blogspot.com/-_oOQ4-QL6Fk/UCFL5NKJijI/AAAAAAAACc4/ZESm_nIEUfE/s1600/MySQL+Administrator.png" imageanchor="1"><img loading="lazy" decoding="async" border="0" height="403" src="http://2.bp.blogspot.com/-_oOQ4-QL6Fk/UCFL5NKJijI/AAAAAAAACc4/ZESm_nIEUfE/s640/MySQL+Administrator.png" width="640"></a></div>
<p><span><span align="right"><span>PS. 不過在Ubuntu 12.04，套件庫中不再提供</span></span></span><span><span align="right"><span><span>mysql-admin</span>、<span>mysql-query-browser</span>這兩個套件了，我在Ubuntu 12.04也沒在裝了，如果真的想要的話，就從<a href="http://dev.mysql.com/downloads/gui-tools/5.0.html" target="_blank">這邊手動下載使用吧</a>！！</span></span></span><a href="http://javahowto.blogspot.tw/2008/07/install-mysql-gui-tools-mysql.html" target="_blank">順便附上剛剛看到的說明</a>和<a href="http://askubuntu.com/questions/138537/how-to-install-mysql-gui-tools-in-12-04" target="_blank">相關討論</a>&#8230;<br /><span><span align="right"><span></span></span></span><span><span align="right"><span><br /> </span></span></span></p>
<div><a href="http://1.bp.blogspot.com/-jklBIiRKa6o/UCFMVajlkYI/AAAAAAAACdI/wfzZ5XxzdyI/s1600/MySQL+Workbench.png" imageanchor="1"><img loading="lazy" decoding="async" border="0" height="356" src="http://1.bp.blogspot.com/-jklBIiRKa6o/UCFMVajlkYI/AAAAAAAACdI/wfzZ5XxzdyI/s640/MySQL+Workbench.png" width="640"></a></div>
<p><span><span align="right"><span>如果需要更完整的MySQL視窗管理介面的話，可以下載<span>MySQL Workbench</span><br /><a href="http://dev.mysql.com/downloads/workbench/#downloads" target="_blank">http://dev.mysql.com/downloads/workbench/#downloads</a><br />在下載頁面的<label for="current_os">Select Platform:</label>選擇&#8221;Ubuntu Linux&#8221;→就會列出可以下載的套件檔<br /></span></span></span></p>
]]></content:encoded>
					
					<wfw:commentRss>//blog-legacy.yuaner.tw/old/%e5%9c%a8linux-ubuntu%e4%b8%8a%e6%9e%b6mysql%e8%b3%87%e6%96%99%e5%ba%ab/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
